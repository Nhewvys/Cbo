const passwordInput=document.getElementById("senha"),usernameInput=document.getElementById("email"),loginButton=document.querySelector("#btn-login"),errorEmail=document.getElementById("error-email"),errorSenha=document.getElementById("error-senha"),form=document.querySelector("form").addEventListener("submit",(e=>{e.preventDefault()}));function login(){const e=usernameInput.value,a=passwordInput.value;loading(loginButton," Carregando.."),validateForm()?firebase.auth().signInWithEmailAndPassword(e,a).then((()=>{redirectToPage()})).catch((e=>{getErrorMessage(e),loadingHide(loginButton,"Entrar")})):loadingHide(loginButton,"Entrar")}function recoverPassword(){const e=document.getElementById("user").value;loading(),firebase.auth().sendPasswordResetEmail(e).then((()=>{alert("Um email de recuperação foi enviado para o seu endereço.")})).catch((e=>{alert("Ocorreu um erro ao enviar o email de recuperação."),console.error(e)})).finally((()=>{loadingHide()}))}function getErrorMessage(e){switch(e.code){case"auth/wrong-password":createToast("error","Senha incorreta");break;case"auth/user-not-found":createToast("warning","Parece que você não tem uma conta");break;case"auth/invalid-email":createToast("info","Insira um email válido");break;case"auth/too-many-requests":createToast("warning","Hmm, parece que estamos cheios agora.");break;default:console.error(e),alert("Ocorreu um erro ao fazer login.")}}function redirectToPage(){loading(loginButton,"Carregando"),setTimeout((function(){window.location.href="painel.html"}),500)}loginButton.addEventListener("click",login);const validateForm=()=>""===usernameInput.value.trim()?(createToast("info","Preencha o campo de email"),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(usernameInput.value.trim())?""!==passwordInput.value.trim()||(createToast("info","Preencha o campo de senha"),!1):(createToast("error","Email inválido"),!1);